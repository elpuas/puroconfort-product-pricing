import{getContext as t,store as e}from"@wordpress/interactivity";const{state:i,actions:a}=e("puroconfort-pricing",{state:{quantity:1,price_single:0,price_bulk:0,productName:"",unit_price_applied:0,total:0,totalFormatted:""},actions:{init(){const e=t();i.quantity=Number(e.quantity)||1,i.price_single=Number(e.price_single)||0,i.price_bulk=Number(e.price_bulk)||0,i.productName=e.productName||"",a.update()},update(t){const e=t?Number.parseInt(t.target.value,10):i.quantity;i.quantity=Number.isFinite(e)&&e>=1?e:1,i.unit_price_applied=i.quantity>=12?i.price_bulk:i.price_single,i.total=i.quantity*i.unit_price_applied,i.totalFormatted=(t=>{const e=Number(t)||0,i=Math.abs(e%1)>0,a=document.documentElement.lang||"es-MX";return`â‚¡${e.toLocaleString(a,{minimumFractionDigits:i?2:0,maximumFractionDigits:i?2:0})}`})(i.total),console.log("Quantity:",i.quantity),console.log("Unit price applied:",i.unit_price_applied),console.log("Total (raw):",i.total),console.log("State totalFormatted:",i.totalFormatted)},increment(){a.update({target:{value:i.quantity+1}})},decrement(){a.update({target:{value:i.quantity-1}})}}});